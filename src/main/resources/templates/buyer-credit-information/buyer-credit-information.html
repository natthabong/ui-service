<div id="content" th:fragment="content">
	<div id="wrapper">
		<div class="panel box-shadow-none content-header">
			<div class="panel-body">
				<div class="col-md-12">
					<h3 id="header-message-label" class="animated fadeInLeft"
						ng-bind="'Buyer credit information' | translate">Buyer credit
						information</h3>
				</div>
			</div>
		</div>
		<div class="form-element">
			<div class="panel panel-default col-md-12 padding-0">
				<div class="panel-body">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

						<form name="buyerCreditInformationForm" autocomplete="off"
							class="form-horizontal">
							<br />
							<div class="form-group" ng-show="ctrl.showBuyer">
								<label for="sponsor-textbox"
									class="col-md-2 col-sm-3 col-xs-12 control-label"
									id="buyer-label">{{'Buyer'| translate}}: </label>
								<div class="col-md-6 col-sm-6 col-xs-12">
									<gec-auto-suggest model="ctrl.buyerAutoSuggestModel"
										ng-model="ctrl.buyer" id="buyer-auto-suggest" name="buyerCode"
										maxlength="100"></gec-auto-suggest>
								</div>
								<div class="col-md-3 col-sm-2" ng-show="ctrl.showButtonSearchBuyer">
									<scf-button type="submit" id="search-button"
										class="btn-default" ng-bind="'Search' | translate"
										ng-click="ctrl.search()"></scf-button>
								</div>
							</div>
							<div class="form-group" ng-show="ctrl.showSupplier">
								<label for="sponsor-textbox"
									class="col-md-2 col-sm-3 col-xs-12 control-label"
									id="supplier-label">{{'Supplier'| translate}}: </label>
								<div class="col-md-6 col-sm-6 col-xs-12">
									<gec-auto-suggest model="ctrl.supplierAutoSuggestModel"
										ng-model="ctrl.supplier" id="supplier-auto-suggest"
										name="supplierCode" maxlength="100"></gec-auto-suggest>
								</div>
								<div class="col-md-3 col-sm-2">
									<scf-button type="submit" id="search-button"
										class="btn-default" ng-bind="'Search' | translate"
										ng-click="ctrl.search()"></scf-button>
								</div>
							</div>
							<div class="text-right">
								<div class="col-md-12 col-sm-12">
									<span> <b ng-bind="ctrl.pagingController.splitePageTxt"
										id="buyer-credit-information-paging-label"></b> &nbsp;&nbsp; <scf-pagination
											dropdown-id="buyer-credit-information-page-limit-dropdown"
											name="buyer-credit-information"
											page-size-model="ctrl.pagingController.pagingModel.pageSizeSelectModel"
											total-page="ctrl.pagingController.pagingModel.totalPage"
											current-page="ctrl.pagingController.pagingModel.currentPage"
											page-size-list="ctrl.pagingController.pageSizeList"
											page-action="ctrl.search"></scf-pagination>
									</span>
								</div>
							</div>
							<div class="responsive-table">
								<table id="buyer-credit-information-table"
									class="table table-striped table-bordered" cellspacing="0">
									<thead>
										<tr>
											<th id="$rowNo-header-label" ng-bind="'No.' | translate">No.</th>
											<th id="credit-limit-header-label"
												ng-bind="'Credit limit' | translate">Credit limit</th>
											<th id="outstanding-header-label"
												ng-bind="'Outstanding' | translate">Outstanding</th>
											<th id="future-header-label" ng-bind="'Future' | translate">Future</th>
											<th id="buyer-header-label" ng-bind="'Buyer' | translate"
												ng-show="ctrl.showBuyer">Buyer</th>
											<th id="supplier-header-label"
												ng-bind="'Supplier' | translate" ng-show="ctrl.showSupplier">Supplier</th>
											<th id="trading-status-header-label"
												ng-bind="'Trading status' | translate">Trading status</th>
											<th id="internal-header-label"
												ng-bind="'Internal' | translate">Internal</th>
											<th id="available-header-label"
												ng-bind="'Available' | translate">Available</th>
											<th id="remaining-header-label"
												ng-bind="'Remaining' | translate"
												title="{{'Remaining' | translate}} = {{'Credit limit' | translate}} - ({{'Outstanding' | translate}} + {{'Future drawdown' | translate}})">Remaining</th>
											<th id="tenor-header-label"
												ng-bind="'Tenor(days)' | translate">Tenor(days)</th>
											<th id="pre-drawdown-header-label"
												ng-bind="'Pre-drawdown(%)' | translate">Pre-drawdown(%)</th>
											<th id="interest-rate-header-label"
												ng-bind="'Interest rate' | translate">Interest rate</th>
											<th id="expiry-date-header-label"
												ng-bind="'Expire date' | translate">Expire date</th>
											<th id="credit-status-header-label"
												ng-bind="'Credit status' | translate">Credit status</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr
											ng-repeat="record in ctrl.pagingController.tableRowCollection track by $index">
											<td class="text-center"><span
												id="$rowNo-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.rowNo"></span></td>
											<td class="text-right"><span
												ng-hide="record.isSameAccount"
												id="credit-limit-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.creditLimit | number : 2"></span></td>
											<td class="text-right"><span
												ng-hide="record.isSameAccount"
												id="outstanding-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.outstanding | number : 2"></span></td>
											<td class="text-right"><span
												ng-hide="record.isSameAccount"
												id="future-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.futureDrawdown | number : 2"></span></td>
											<td class="text-left" ng-show="!ctrl.buyerMode"><span
												id="supplier-name-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.buyerName | translate"></span></td>
											<td class="text-center" ><img id="sponsor-"
												title="{{record.supplierName}}"
												style="height: 32px; width: 32px;"
												data-ng-src="data:image/png;base64,{{ctrl.decodeBase64(record.supplierLogo)}}" /></td>
											<td class="text-center"><span
												id="trading-status-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.tradingStatus | translate"></span></td>
											<td class="text-right"><span
												id="internal-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.internalStep | number : 2"></span></td>
											<td class="text-right"><span
												ng-hide="record.isSameAccount"
												id="available-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.available | number : 2"></span></td>
											<td class="text-right"><span
												ng-hide="record.isSameAccount"
												id="remaining-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.bankRemaining | number : 2"></span></td>
											<td class="text-center"><span
												id="tenor-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.tenor"></span></td>
											<td class="text-center"><span
												id="pre-drawdown-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.prePercentageDrawdown"></span></td>
											<td class="text-center"><span
												id="interest-rate-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.interestRate"></span></td>
											<td class="text-center"><span
												id="expiry-date-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.limitExpiryDate | date: 'dd/MM/yyyy': 'UTC+0700'"></span></td>
											<td class="text-center"><span
												ng-hide="record.isSameAccount"
												id="credit-status-{{record.accountId}}-{{record.buyerName}}-label"
												ng-bind="record.accountStatus | translate"></span></td>
											<td class="text-center">
												<button type="button" ng-disabled=""
													class="btn-default gec-btn-action btn"
													ng-hide="record.isSameAccount"
													id="credit-information-{{record.accountId}}-{{record.buyerName}}-button"
													ng-click="ctrl.inquiryAccount(record)"
													title="Inquiry Account">
													<ng-transclude> <i class="fa fa-repeat"
														aria-hidden="true"></i> </ng-transclude>
												</button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</form>

					</div>
				</div>
			</div>
		</div>
	</div>
</div>