<div id="content" th:fragment="content" sec:authorize="hasAuthority('VIEW_ALL_ACCOUNTS')">
	<input type="hidden" ng-init="ctrl.canManage=true" sec:authorize="hasAuthority('MANAGE_ALL_ACCOUNTS')" />
	<div id="wrapper">
		<div class="panel box-shadow-none content-header">
			<div class="panel-body">
				<div class="col-md-12">
					<h3 id="header-message-label" class="animated fadeInLeft" ng-bind="'Account list' | translate">Account list</h3>
				</div>
			</div>
		</div>
		<div class="form-element">
			<div class="panel panel-default col-md-12 padding-0">
				<div class="panel-body">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<form name="accountSearchForm" ng-submit="ctrl.search()" autocomplete="off" class="form-horizontal">
							<div class="form-group">
								<label for="organization-textbox" class="col-md-2 col-sm-3 col-xs-12 control-label" id="organization-label" ng-bind="'Organization: ' | translate">Organization: </label>
								<div class="col-md-6 col-sm-6 col-xs-12">
									<gec-auto-suggest model="ctrl.organizeAutoSuggestModel" ng-model="ctrl.organize" id="organization-auto-suggest"></gec-auto-suggest>
								</div>
							</div>
							<div class="form-group">
								<label for="account-no-textbox" class="col-md-2 col-sm-3 col-xs-12 control-label" id="account-no-label" ng-bind="'Account No.: ' | translate">Account No.: </label>
								<div class="col-md-6 col-sm-6 col-xs-12">
									<gec-auto-suggest model="ctrl.accountNoAutoSuggestModel" ng-model="ctrl.account" id="account-no-auto-suggest"></gec-auto-suggest>
								</div>
							</div>
							<div class="form-group">
								<label for="status" id="status-label" class="col-md-2 col-sm-3 col-xs-12 control-label" ng-bind="'Status: ' | translate">Status: </label>
								<div class="col-md-3 col-sm-4 col-xs-12">
									<scf-dropdown id="status-dropdown" ng-model="ctrl.criteria.suspend" component-data="ctrl.accountStatusDrpodowns"></scf-dropdown>
								</div>
								<div class="col-md-6 col-sm-5">
									<scf-button type="submit" id="search-button" class="btn-default" ng-bind="'Search' | translate" ng-click="ctrl.submitted = true">Search</scf-button>
								</div>
							</div>
						</form>
					</div>
					<div class="text-right">
						<div class="col-md-12 col-sm-12">
							<span>
								<b ng-bind="ctrl.pagingController.splitePageTxt" id="account-list-paging-label"></b> &nbsp;&nbsp;
								<scf-pagination dropdown-id="account-page-limit-dropdown" name="account" page-size-model="ctrl.pagingController.pagingModel.pageSizeSelectModel"
								    total-page="ctrl.pagingController.pagingModel.totalPage" current-page="ctrl.pagingController.pagingModel.currentPage"
								    page-size-list="ctrl.pagingController.pageSizeList" page-action="ctrl.search"></scf-pagination>
							</span>
						</div>
					</div>
					<div class="responsive-table">
						<table id="account-table" class="table table-striped table-bordered" cellspacing="0">
							<thead>
								<tr>
									<th id="$rowNo-header-label" ng-bind="'No.' | translate">No.</th>
									<th id="account-no-header-label" ng-bind="'Account No.' | translate">Account No.</th>
									<th id="account-type-header-label" ng-bind="'Account type' | translate">Account type</th>
									<th id="organization-name-header-label" ng-bind="'Organization name' | translate">Organization name</th>
									<th id="status-header-label" ng-bind="'Status' | translate">Status</th>
									<th id="tool-header-label"></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="record in ctrl.pagingController.tableRowCollection track by $index">
									<td class="text-center">
										<span id="$rowNo-{{$index + 1}}-label" ng-bind="record.rowNo"></span>
									</td>
									<td class="text-center">
										<span id="buyer-name-{{$index + 1}}-label" ng-hide="record.hide" ng-bind="ctrl.getFormattedAccountNumber(record)"></span>
									</td>
									<td class="text-center">
										<span id="supplier-name-{{$index + 1}}-label" ng-hide="record.hide" ng-bind="record.accountType | translate"></span>
									</td>
									<td class="text-left">
										<span id="transaction-no-{{$index + 1}}-label" ng-bind="record.organizeName"></span>
									</td>
									<td class="text-center">
										<span id="remittance-no-{{$index + 1}}-label" ng-hide="record.hide" ng-bind="record.actualStatus | translate"></span>
									</td>
									<td class="text-center">
										<scf-button id="{{$index + 1}}-edit-button" class="btn-default gec-btn-action" ng-disabled="!ctrl.canManage" ng-click="ctrl.editAccount(record)"
										    title="Edit">
											<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
										</scf-button>
										<scf-button id="{{$index + 1}}-delete-button" class="btn-default gec-btn-action" ng-disabled="!ctrl.canManage" ng-click="ctrl.deleteAccount(record)"
										    title="Delete">
											<i class="fa fa-trash-o" aria-hidden="true"></i>
										</scf-button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>