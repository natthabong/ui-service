<div th:fragment="content">
	<div id="wrapper" ng-controller="ChannelConfigsController as ctrl">
		<input type="hidden" ng-init="ctrl.hiddenFundingColumn=false"
		sec:authorize="hasAuthority('VIEW_ALL_CUSTOMER_ORGANIZATIONS_IMPORT_CHANNELS_OF_ALL_FUNDING')" />
		<div class="panel panel-default col-md-12 padding-0">
			<div class="panel-body">
				<div class="row">
					<div class="col-lg-12 col-md-12 col-xs-12">
						<h3 class="animated fadeInLeft" id="channel-configs-header-label">Import
							document channel</h3>
					</div>
				</div>
				<div class="responsive-table" ng-init="ctrl.initLoad('AP_DOCUMENT')">
					<table id="ap-channel-configs-table"
						class="table table-striped table-bordered" cellspacing="0">
						<thead>
							<tr>
								<th id="ap-channel-header-label" ng-bind="'Channel' | translate">Channel</th>
								<th id="ap-import-file-layout-header-label"
									ng-bind="'Import file layout' | translate">Import file
									layout</th>
								<th id="ap-import-channel-funding-header-label"
									ng-bind="'FUNDING' | translate" ng-hide="ctrl.hiddenFundingColumn"></th>
								<th id="ap-status-header-label" ng-bind="'Status' | translate">Status</th>
								<th id="active-date-header-label"
									ng-bind="'Active date' | translate">Active date</th>
								<th id="ap-expire-date-header-label"
									ng-bind="'Expire date' | translate">Expire date</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="record in ctrl.data track by $index">
								<td class="text-center"><span
									id="ap-channel-{{record.channelId}}-{{record.organizeId}}-label"
									ng-bind="record.channelType"></span></td>
								<td class="text-left"><span
									id="ap-import-file-layout-{{record.channelId}}-{{record.organizeId}}-label"
									ng-bind="record.sponsorLayoutConfig.displayName"></span></td>
								<td class="text-center" ng-hide="ctrl.hiddenFundingColumn">
									<span ng-bind="record.fundingId"></span>
									<img id="ap-funding-{{$index}}-name-label" style="height: 32px; width: 32px;" 
									data-ng-src="data:image/png;base64,'+atob(record.fundingOrganizeLogo)+'"></img>
									</td>
								<td class="text-center"><span
									id="ap-status-{{record.channelId}}-{{record.organizeId}}-label"
									ng-bind="record.status | translate"></span></td>
								<td class="text-center"><span
									id="ap-active-date-{{record.channelId}}-{{record.organizeId}}-label"
									ng-bind="record.activeDate | date: 'dd/MM/yyyy'"></span></td>
								<td class="text-center"><span
									id="ap-expire-date-{{record.channelId}}-{{record.organizeId}}-label"
									ng-bind="record.expiryDate | date: 'dd/MM/yyyy'"></span></td>
								<td class="text-center">
									<button
										id="ap-{{record.channelId}}-{{record.organizeId}}-setup-button"
										class="btn-default gec-btn-action"
										ng-click="ctrl.editChannel(record)" title="Config a channel">
										<ng-transclude> <i class="fa fa-cog"
											aria-hidden="true"></i></ng-transclude>
									</button>
									<button
										id="ap-layout-{{record.channelId}}-{{record.organizeId}}-delete-button"
										class="btn-default gec-btn-action"
										ng-click="ctrl.deleteChannel(record)" title="Delete a channel">
										<ng-transclude> <i class="fa fa-trash-o"
											aria-hidden="true"></i></ng-transclude>
									</button>
									<button
										id="ap-{{record.channelId}}-{{record.organizeId}}-connection-button"
										class="btn-default gec-btn-action"
										ng-disabled="ctrl.disableTestConnection(record)"
										ng-click="ctrl.testConnection(record)" title="Test connection">
										<ng-transclude> <i
											class="glyphicon glyphicon-transfer" aria-hidden="true"></i>
										</ng-transclude>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>